# 新建七牛云存储空间设置指南

## 🆕 创建新的存储空间

### 1. 登录七牛云控制台
访问：https://portal.qiniu.com

### 2. 创建新存储空间
1. 进入 **对象存储** > **空间管理**
2. 点击 **新建存储空间**
3. 填写配置：
   - **存储空间名称**: `cavai-blog-new` (或其他唯一名称)
   - **存储区域**: 选择就近区域（建议华东-浙江2）
   - **访问控制**: **公开空间**
   - **存储类型**: 标准存储

### 3. 获取新的访问域名
创建完成后，在空间概览中可以看到：
- **测试域名**: 类似 `http://xxxxx.bkt.clouddn.com`
- 记录这个域名，稍后需要更新配置

## 🔧 更新GitHub Secrets

### 需要更新的Secrets：
1. **QINIU_BUCKET**: 更新为新的存储空间名称
2. **保持不变**: QINIU_ACCESS_KEY 和 QINIU_SECRET_KEY

### 更新步骤：
1. 进入GitHub仓库 Settings > Secrets and variables > Actions
2. 点击 QINIU_BUCKET 旁的编辑按钮
3. 将值改为新的存储空间名称
4. 保存更改

## 📝 更新配置文件

### 1. 更新 hugo.yml
```yaml
# 更新为新的七牛云测试域名
baseURL: "http://新域名.bkt.clouddn.com/"
```

### 2. 更新部署脚本（如果需要）
当前的精简版部署脚本应该可以直接使用新的存储空间。

## 🧪 测试步骤

### 1. 确认设置
- [ ] 新存储空间已创建
- [ ] 存储空间设置为公开
- [ ] GitHub Secret QINIU_BUCKET 已更新
- [ ] hugo.yml 中的 baseURL 已更新

### 2. 运行部署
1. 提交并推送更改到GitHub
2. 查看GitHub Actions执行状态
3. 访问新的域名确认部署成功

### 3. 验证网站
- 访问新域名主页
- 检查文章页面是否正常
- 确认样式和资源文件加载正常

## 🔍 排查清单

如果新空间仍有问题，检查：
- [ ] 存储空间权限是否为公开
- [ ] 域名是否正确（HTTP vs HTTPS）
- [ ] 文件是否真正上传到新空间
- [ ] 浏览器缓存是否需要清除

## 💡 注意事项

1. **域名格式**: 新的测试域名可能是HTTP而不是HTTPS
2. **DNS传播**: 新域名可能需要几分钟才能生效
3. **文件权限**: 确保所有文件都有公开读取权限
4. **缓存清理**: 可能需要清除浏览器缓存

---

## 🗑️ 清理旧空间（可选）

测试成功后，您可以选择：
1. 保留旧空间作为备份
2. 删除旧空间节省存储费用
3. 将旧空间设为私有 